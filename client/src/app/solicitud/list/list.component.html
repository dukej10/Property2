<br>
<br>
<br>
<h2 class="center">Lista de solicitudes</h2>
<div class="row">
    <div  class="input-field col s6" >
      <input [(ngModel)]="condicion"  id="first_name" type="text" class="validate">
      <label for="first_name">Buscar</label>
    </div>
    <a class="waves-effect waves-light btn" (click)="condition(condicion)"><i class="material-icons right">search</i>Buscar</a>
    
    <br>
  
  </div>

<div *ngIf="condicion == null" class="">  
<table>
    <thead>
        <tr>
            <th>
                Tipo
            </th>
            <th>
                Dirección
            </th>
            <th>
                Valor
            </th>
            <th>
                Fecha
            </th>
            <th>
                Estado
            </th>
            <th>
                Valor ($)
            </th>
            <th>
                Foto
            </th>
            <th>
                Asesor
            </th>
            <th>
               
            </th>
            <th>

            </th>
        </tr>
    </thead>
        <tr *ngFor="let c of productList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
            <td>
                {{c.tipo}}
            </td>
            <td>
                {{c.direccion}}
            </td>
            <td>
                {{c.valor}}
            </td>
            <td>
                {{c.fecha}}
            </td>
            <td>
                {{c.estado}}
            </td>
            <td>
                {{c.valor}}
            </td>
            <td>
                <img src={{c.foto}} class= "image">
            </td>
            <!-- <td>
                {{c.description}}
            </td> -->
            <td>
                {{c.asesor}}
            </td>
            <td>
                <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
            </td>
                <td *ngIf="c.estado != 'enviado'">
                    <a  (click)="ShowInfo(c.id)" class="waves-effect waves-light btn yellow"><i class="material-icons right">info</i>Info</a>
                </td>
                <td *ngIf="c.estado == 'enviado'">
                    <a *ngIf="!showConfirmationsButtons; else deleteConfirmation" (click)="ChangeConfirmationButtons(c.id)" class="waves-effect waves-light btn red"><i class="material-icons right">delete</i>Eliminar</a>
                    <ng-template #deleteConfirmation>
                    <div *ngIf="idToShowButtons == c.id"> <!-- Sólo mostrará las opciones para el seleccionado -->
                        <a class="waves-effect waves-light btn green" (click)="deleteSolicitud(c.id)"><i class="material-icons right">done</i>Confirmar</a>&nbsp;&nbsp;
                        <a class="waves-effect waves-light btn red" (click)="ChangeConfirmationButtons('')"><i class="material-icons right">cancel</i>Cancelar</a>
                    </div>
                </ng-template>
                </td>                 
        </tr>
    <tbody>

    </tbody>
</table>

<pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
</div>

<div *ngIf="condicion == 'enviado'" class="">  
    <table>
        <thead>
            <tr>
                <th>
                    Tipo
                </th>
                <th>
                    Dirección
                </th>
                <th>
                    Valor
                </th>
                <th>
                    Fecha
                </th>
                <th>
                    Estado
                </th>
                <th>
                    Valor ($)
                </th>
                <th>
                    Foto
                </th>
                <th>
                    Asesor
                </th>
                <th>
                   
                </th>
                <th>
    
                </th>
            </tr>
        </thead>
            <tr *ngFor="let c of cList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
                <td>
                    {{c.tipo}}
                </td>
                <td>
                    {{c.direccion}}
                </td>
                <td>
                    {{c.valor}}
                </td>
                <td>
                    {{c.fecha}}
                </td>
                <td>
                    {{c.estado}}
                </td>
                <td>
                    {{c.valor}}
                </td>
                <td>
                    <img src={{c.foto}} class= "image">
                </td>
                <!-- <td>
                    {{c.description}}
                </td> -->
                <td>
                    {{c.asesor}}
                </td>
                <td>
                    <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
                </td>
                <td>
                    <a *ngIf="!showConfirmationsButtons; else deleteConfirmation" (click)="ChangeConfirmationButtons(c.id)" class="waves-effect waves-light btn red"><i class="material-icons right">delete</i>Eliminar</a>
                    <ng-template #deleteConfirmation>
                    <div *ngIf="idToShowButtons == c.id"> <!-- Sólo mostrará las opciones para el seleccionado -->
                        <a class="waves-effect waves-light btn green" (click)="deleteSolicitud(c.id)"><i class="material-icons right">done</i>Confirmar</a>&nbsp;&nbsp;
                        <a class="waves-effect waves-light btn red" (click)="ChangeConfirmationButtons('')"><i class="material-icons right">cancel</i>Cancelar</a>
                    </div>
                </ng-template>
                </td>            
            </tr>
        <tbody>
    
        </tbody>
    </table>
    
    <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
    </div>


    <div *ngIf="condicion == 'en estudio'" class="">  
        <table>
            <thead>
                <tr>
                    <th>
                        Tipo
                    </th>
                    <th>
                        Dirección
                    </th>
                    <th>
                        Valor
                    </th>
                    <th>
                        Fecha
                    </th>
                    <th>
                        Estado
                    </th>
                    <th>
                        Valor ($)
                    </th>
                    <th>
                        Foto
                    </th>
                    <th>
                        Asesor
                    </th>
                    <th>
                       
                    </th>
                    <th>
        
                    </th>
                </tr>
            </thead>
                <tr *ngFor="let c of cList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
                    <td>
                        {{c.tipo}}
                    </td>
                    <td>
                        {{c.direccion}}
                    </td>
                    <td>
                        {{c.valor}}
                    </td>
                    <td>
                        {{c.fecha}}
                    </td>
                    <td>
                        {{c.estado}}
                    </td>
                    <td>
                        {{c.valor}}
                    </td>
                    <td>
                        <img src={{c.foto}} class= "image">
                    </td>
                    <!-- <td>
                        {{c.description}}
                    </td> -->
                    <td>
                        {{c.asesor}}
                    </td>
                    <td>
                        <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
                    </td>
                    <td>
                        <a  (click)="ShowInfo(c.id)" class="waves-effect waves-light btn yellow"><i class="material-icons right">info</i>Info</a>
                    </td>            
                </tr>
            <tbody>
        
            </tbody>
        </table>
        
        <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
        </div>


        <div *ngIf="condicion == 'aceptado'" class="">  
            <table>
                <thead>
                    <tr>
                        <th>
                            Tipo
                        </th>
                        <th>
                            Dirección
                        </th>
                        <th>
                            Valor
                        </th>
                        <th>
                            Fecha
                        </th>
                        <th>
                            Estado
                        </th>
                        <th>
                            Valor ($)
                        </th>
                        <th>
                            Foto
                        </th>
                        <th>
                            Asesor
                        </th>
                        <th>
                           
                        </th>
                        <th>
            
                        </th>
                    </tr>
                </thead>
                    <tr *ngFor="let c of cList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
                        <td>
                            {{c.tipo}}
                        </td>
                        <td>
                            {{c.direccion}}
                        </td>
                        <td>
                            {{c.valor}}
                        </td>
                        <td>
                            {{c.fecha}}
                        </td>
                        <td>
                            {{c.estado}}
                        </td>
                        <td>
                            {{c.valor}}
                        </td>
                        <td>
                            <img src={{c.foto}} class= "image">
                        </td>
                        <!-- <td>
                            {{c.description}}
                        </td> -->
                        <td>
                            {{c.asesor}}
                        </td>
                        <td>
                            <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
                        </td>
                            <td>
                                <a  (click)="ShowInfo(c.id)" class="waves-effect waves-light btn yellow"><i class="material-icons right">info</i>Info</a>
                            </td>           
                    </tr>
                <tbody>
            
                </tbody>
            </table>
            
            <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
            </div>
        

            <div *ngIf="condicion == 'rechazado'" class="">  
                <table>
                    <thead>
                        <tr>
                            <th>
                                Tipo
                            </th>
                            <th>
                                Dirección
                            </th>
                            <th>
                                Valor
                            </th>
                            <th>
                                Fecha
                            </th>
                            <th>
                                Estado
                            </th>
                            <th>
                                Valor ($)
                            </th>
                            <th>
                                Foto
                            </th>
                            <th>
                                Asesor
                            </th>
                            <th>
                               
                            </th>
                            <th>
                
                            </th>
                        </tr>
                    </thead>
                        <tr *ngFor="let c of cList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
                            <td>
                                {{c.tipo}}
                            </td>
                            <td>
                                {{c.direccion}}
                            </td>
                            <td>
                                {{c.valor}}
                            </td>
                            <td>
                                {{c.fecha}}
                            </td>
                            <td>
                                {{c.estado}}
                            </td>
                            <td>
                                {{c.valor}}
                            </td>
                            <td>
                                <img src={{c.foto}} class= "image">
                            </td>
                            <!-- <td>
                                {{c.description}}
                            </td> -->
                            <td>
                                {{c.asesor}}
                            </td>
                            <td>
                                <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
                            </td>
                                <td>
                                    <a  (click)="ShowInfo(c.id)" class="waves-effect waves-light btn yellow"><i class="material-icons right">info</i>Info</a>
                                </td>            
                        </tr>
                    <tbody>
                
                    </tbody>
                </table>
                
                <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
                </div>

                <div *ngIf="condicion == 'Duque'" class="">  
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    Tipo
                                </th>
                                <th>
                                    Dirección
                                </th>
                                <th>
                                    Valor
                                </th>
                                <th>
                                    Fecha
                                </th>
                                <th>
                                    Estado
                                </th>
                                <th>
                                    Valor ($)
                                </th>
                                <th>
                                    Foto
                                </th>
                                <th>
                                    Asesor
                                </th>
                                <th>
                                   
                                </th>
                                <th>
                    
                                </th>
                            </tr>
                        </thead>
                            <tr *ngFor="let c of cList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
                                <td>
                                    {{c.tipo}}
                                </td>
                                <td>
                                    {{c.direccion}}
                                </td>
                                <td>
                                    {{c.valor}}
                                </td>
                                <td>
                                    {{c.fecha}}
                                </td>
                                <td>
                                    {{c.estado}}
                                </td>
                                <td>
                                    {{c.valor}}
                                </td>
                                <td>
                                    <img src={{c.foto}} class= "image">
                                </td>
                                <!-- <td>
                                    {{c.description}}
                                </td> -->
                                <td>
                                    {{c.asesor}}
                                </td>
                                <td>
                                    <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
                                </td>
                                    <td>
                                        <a  (click)="ShowInfo(c.id)" class="waves-effect waves-light btn yellow"><i class="material-icons right">info</i>Info</a>
                                    </td>            
                            </tr>
                        <tbody>
                    
                        </tbody>
                    </table>
                    
                    <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
                    </div>

                    <div *ngIf="condicion == 'Pepito'" class="">  
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        Tipo
                                    </th>
                                    <th>
                                        Dirección
                                    </th>
                                    <th>
                                        Valor
                                    </th>
                                    <th>
                                        Fecha
                                    </th>
                                    <th>
                                        Estado
                                    </th>
                                    <th>
                                        Valor ($)
                                    </th>
                                    <th>
                                        Foto
                                    </th>
                                    <th>
                                        Asesor
                                    </th>
                                    <th>
                                       
                                    </th>
                                    <th>
                        
                                    </th>
                                </tr>
                            </thead>
                                <tr *ngFor="let c of cList | paginate: { itemsPerPage: 3, currentPage: cp, totalItems: total }">
                                    <td>
                                        {{c.tipo}}
                                    </td>
                                    <td>
                                        {{c.direccion}}
                                    </td>
                                    <td>
                                        {{c.valor}}
                                    </td>
                                    <td>
                                        {{c.fecha}}
                                    </td>
                                    <td>
                                        {{c.estado}}
                                    </td>
                                    <td>
                                        {{c.valor}}
                                    </td>
                                    <td>
                                        <img src={{c.foto}} class= "image">
                                    </td>
                                    <!-- <td>
                                        {{c.description}}
                                    </td> -->
                                    <td>
                                        {{c.asesor}}
                                    </td>
                                    <td>
                                        <a class="waves-effect waves-light btn blue" href="/solicitud/editor/{{c.id}}"><i class="material-icons right">edit</i>Editar</a>
                                    </td>
                                        <td>
                                            <a  (click)="ShowInfo(c.id)" class="waves-effect waves-light btn yellow"><i class="material-icons right">info</i>Info</a>
                                        </td>            
                                </tr>
                            <tbody>
                        
                            </tbody>
                        </table>
                        
                        <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
                        </div>

    <!-- Modal Structure -->
  <div id="modalInfo" class="modal">
    <div class="modal-content">
      <h4>Inmobiliaria Mchaileh</h4>
      <h6>Inofrmación solicitud</h6>
      <p id = "strInfoMessage"></p>
    </div>
    <div class="modal-footer">
      <a class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>

<!-- <!-- Modal Structure -->
<!-- <div id="modalFoto" class="modal">
<div class="modal-content">
    <h4>Foto</h4>
    <img src= class= "image">
</div>
<div class="modal-footer">
    <a class="modal-close waves-effect waves-green btn-flat">Close</a>
</div>
</div> -->